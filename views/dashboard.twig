{% extends "layout.twig" %}

{% block body %}

<div class="all-title-box">
    <div class="container text-center">
        <h1 class="display-5">Dashboard</h1>
        <span class="display-4 text-white">Kayıtlı Olduğun Kurslar</span>
    </div>
</div>

<div class="section wb">
    <div class="container">

        {% if courses.length > 0 %}
            <div class="row">
                {% for c in courses %}
                    <div class="col-md-6 col-lg-4 mb-4">
                        <div class="card h-100 shadow-sm">
                            <img src="{{ c.image ?? '/images/blog_2.jpg' }}" class="card-img-top" alt="{{ c.name }}">
                            <div class="card-body">
                                <h5 class="card-title">{{ c.name }}</h5>
                                <p class="card-text">{{ c.description | truncate(100) }}</p>
                                <a href="/course/{{ c.slug }}" class="btn btn-primary btn-sm">Kursa Git</a>
                                
                                <form action="/unenroll" method="POST" class="mt-2">
                               <input type="hidden" name="courseId" value="{{ c._id }}">
                               <button type="submit" class="btn btn-danger btn-sm">Kaydı Sil</button>
                               </form>

                            </div>
                        </div>
                    </div>
                {% endfor %}
            </div>
        {% else %}
            <div class="alert alert-warning text-center">
                Henüz hiçbir kursa kayıtlı değilsin.
            </div>
        {% endif %}

    </div>
</div>

{% endblock %}
